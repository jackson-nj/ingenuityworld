@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Oswald:wght@400;500;600;700&display=swap');

/* stylelint-disable at-rule-no-unknown */
@tailwind base;
@tailwind components;
@tailwind utilities;
/* stylelint-enable at-rule-no-unknown */

/* Heavy Equipment Hire - Industrial Construction Design System */

@layer base {
  :root {
    /* Premium Palette - base and accents */
    /* Primary base (dark steel) - restored (no golden yellow) */
    --primary: 0 0% 3.9%;
    --primary-foreground: 0 0% 98%;

    /* Secondary (deep midnight blue) - #111827 */
    --secondary: 222 30% 11%;
    --secondary-foreground: 0 0% 98%;

    /* Background (very clean light) - #F8FAFC */
    --background: 210 16% 98%;
    --foreground: 220 14% 10%;

    /* Cards and surfaces */
    --card: 0 0% 100%;
    --card-foreground: 220 14% 10%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 14% 10%;

    /* Section background / muted surfaces (very subtle) */
    --muted: 210 20% 96%;
    --muted-foreground: 220 10% 46%;

    /* Accent 1: Electric blue pop (#2563EB) */
    --accent: 221 83% 53%;
    --accent-foreground: 0 0% 100%;

    /* Accent 2: Neon orange pop (#FF5A1F) - for sparing highlights */
    --accent-2: 16 100% 56%;
    --accent-2-foreground: 0 0% 100%;

    /* Highlight metallic */
    --metallic: 218 11% 65%;
    --metallic-foreground: 220 10% 10%;

    /* Destructive */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    /* Borders and inputs */
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 221 83% 53%;

    --radius: 0.5rem;

    /* Dark footer/header surfaces */
    --surface-dark: 0 0% 3.9%;
    --surface-dark-foreground: 0 0% 98%;

    /* Charcoal grey */
    --charcoal: 222 30% 11%;
    --charcoal-foreground: 0 0% 98%;

    /* Steel grey */
    --steel: 215 16% 47%;
    --steel-foreground: 0 0% 100%;

    /* Sidebar */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 221 83% 53%;
    /* Estimated combined header height (top contact bar + nav). Use 80px per 8-pt system */
    --header-height: 80px;
  }

  .dark {
    --background: 220 14% 10%;
    --foreground: 0 0% 98%;
    --card: 220 14% 14%;
    --card-foreground: 0 0% 98%;
    --popover: 220 14% 14%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 3.9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 220 14% 20%;
    --secondary-foreground: 0 0% 98%;
    --muted: 220 14% 20%;
    --muted-foreground: 215 16% 65%;
    --accent: 38 92% 45%;
    --accent-foreground: 220 14% 10%;
    --destructive: 0 62% 30%;
    --destructive-foreground: 0 0% 98%;
    --border: 220 14% 20%;
    --input: 220 14% 20%;
    --ring: 221 83% 53%;
    --sidebar-background: 220 14% 10%;
    --sidebar-foreground: 0 0% 98%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 220 14% 20%;
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 220 14% 20%;
    --sidebar-ring: 221 83% 53%;
    --header-height: 112px;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    /* Ensure page content sits below the absolute/fixed header */
    padding-top: calc(var(--header-height) + env(safe-area-inset-top));
    font-family: 'Inter', sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Oswald', sans-serif;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.02em;
  }

  /* Site header height helper (driven by --header-height) */
  .site-header {
    height: var(--header-height);
  }

  /* Prevent fixed header from overlapping anchored headings/sections.
     Applies a scroll offset equal to the header height plus a small gap. */
  :where(section[id], [id], h1, h2, h3) {
    scroll-margin-top: calc(var(--header-height) + 0.5rem);
  }

  /* Global hero offset: ensure the first section (site hero/title) is visually
     offset from the fixed header so service page headings are fully visible. */
  main > section:first-child,
  main > section:first-child .container {
    /* Add an inner offset so hero/title don't sit under the navbar on load */
    scroll-margin-top: calc(var(--header-height) + 0.5rem);
    padding-top: calc(var(--header-height) + 0.5rem);
  }
}

@layer components {
  /* Hero section styles */
  .hero-overlay {
    background: linear-gradient(
      135deg,
      hsl(220 14% 10% / 0.85) 0%,
      hsl(220 14% 10% / 0.6) 50%,
      hsl(220 14% 10% / 0.75) 100%
    );
  }

  /* Section patterns */
  .section-pattern {
    background-image: 
      linear-gradient(90deg, hsl(var(--border)) 1px, transparent 1px),
      linear-gradient(hsl(var(--border)) 1px, transparent 1px);
    background-size: 40px 40px;
  }

  /* Equipment card hover effect */
  .equipment-card {
    @apply relative overflow-hidden transition-all duration-200;
  }

  .equipment-card::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-t from-charcoal/80 to-transparent opacity-60 transition-opacity duration-200;
  }

  .equipment-card:hover::before {
    @apply opacity-80;
  }

  /* Yellow stripe accent */
  .stripe-accent {
    @apply relative;
  }

  .stripe-accent::after {
    content: '';
    @apply absolute bottom-0 left-0 w-16 h-1 bg-accent-2;
  }

  /* Industrial divider */
  .industrial-divider {
    @apply relative;
  }

  .industrial-divider::before {
    content: '';
    @apply absolute left-1/2 -translate-x-1/2 w-24 h-1 bg-accent-2;
  }

  /* Cinematic hero overlay: layered vignette + color wash with subtle orange rim */
  .hero-cinematic-overlay {
    background-image:
      radial-gradient(ellipse at center, rgba(0,0,0,0.22) 0%, rgba(0,0,0,0.52) 45%, rgba(0,0,0,0.78) 100%),
      linear-gradient(180deg, color-mix(in srgb, hsl(var(--accent)) 22%, black) 0%, transparent 40%, color-mix(in srgb, hsl(var(--accent)) 12%, black) 100%),
      radial-gradient(ellipse at 8% 12%, color-mix(in srgb, hsl(var(--accent-2)) 8%, transparent), transparent 24%);
    background-blend-mode: overlay, normal, screen;
    mix-blend-mode: normal;
  }

  /* Hero slideshow styles */
  .hero-slides {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
  }

  /* Horizontal auto-scroll track (new): each .hero-item is 100% width, the track translates */
  .hero-track {
    display: flex;
    height: 100%;
    width: 100%;
    transition: transform 1s cubic-bezier(.22,.9,.36,1);
    will-change: transform;
  }

  .hero-item {
    flex: 0 0 100%;
    position: relative;
    height: 100%;
    min-width: 100%;
  }

  /* Indicator (dot/pill) â€” smooth width and color transitions, fully rounded */
  .hero-indicator {
    border-radius: 9999px;
    transition: background-color .28s cubic-bezier(.22,.9,.36,1), width .28s cubic-bezier(.22,.9,.36,1), transform .28s ease;
    will-change: width, background-color, transform;
  }

  .hero-slide {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    opacity: 0;
    transform: scale(1.08);
    transition: opacity 1.2s cubic-bezier(.22,.9,.36,1), transform var(--hero-slide-duration, 6s) cubic-bezier(.22,.9,.36,1);
    will-change: opacity, transform;
  }

  /* When a slide becomes active it crossfades in (opacity) and smoothly scales to natural size */
  .hero-slide.active {
    opacity: 1;
    transform: scale(1);
  }

  /* CSS-only fallback animation for older browsers: crossfade using keyframes */
  @keyframes heroCrossfade {
    0% { opacity: 0; }
    10% { opacity: 1; }
    40% { opacity: 1; }
    50% { opacity: 0; }
    100% { opacity: 0; }
  }

  /* Mobile clarity tweaks: reduce overlay darkness and remove scaling to sharpen hero images on small screens */
  @media (max-width: 640px) {
    .hero-cinematic-overlay {
      background-image:
        radial-gradient(ellipse at center, rgba(0,0,0,0.08) 0%, rgba(0,0,0,0.28) 45%, rgba(0,0,0,0.5) 100%),
        linear-gradient(180deg, color-mix(in srgb, hsl(var(--accent)) 10%, transparent) 0%, transparent 40%, color-mix(in srgb, hsl(var(--accent)) 6%, transparent) 100%),
        radial-gradient(ellipse at 8% 12%, color-mix(in srgb, hsl(var(--accent-2)) 4%, transparent), transparent 24%);
      background-blend-mode: overlay, normal, screen;
    }

    /* Remove the subtle zoom on slides to avoid soft/blurry scaling on mobile screens */
    .hero-slide {
      transform: none;
    }

    .hero-slide.active {
      transform: none;
    }
  }

  /* Accent button utility - electric blue by default */
  .btn-accent {
    background: hsl(var(--accent));
    color: hsl(var(--accent-foreground));
    box-shadow: 0 16px 40px rgba(2,6,23,0.35);
    transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
    border-radius: 0 !important;
  }

  .btn-accent:hover {
    transform: translateY(-2px);
    filter: brightness(.98);
    box-shadow: 0 22px 50px rgba(2,6,23,0.42);
  }

  /* Secondary accent utility - neon orange */
  .btn-accent-2 {
    background: hsl(var(--accent-2));
    color: hsl(var(--accent-2-foreground));
    box-shadow: 0 14px 36px rgba(50,12,6,0.26);
    border-radius: 0 !important;
  }

  /* Force square buttons: override common button shapes and explicit rounded utilities when used on buttons */
  button,
  input[type="button"],
  input[type="submit"],
  .btn-accent,
  .btn-accent-2,
  a.btn-accent,
  a.btn-accent-2 {
    border-radius: 0 !important;
  }

  .btn-accent.rounded-full,
  .btn-accent-2.rounded-full {
    border-radius: 0 !important;
  }

  .section-accent {
    border-left: 4px solid hsl(var(--accent));
    padding-left: 1rem;
  }

  .section-accent-2 {
    border-left: 4px solid hsl(var(--accent-2));
    padding-left: 1rem;
  }

  /* Header card - white rounded container centered */
  .site-header-card {
    background: hsl(var(--background));
    border-radius: 0;
    padding: 0.5rem 1rem;
    box-shadow: 0 1px 0 rgba(2,6,23,0.06);
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  /* Hero card style: large rounded container with overflow-hidden */
  .hero-card {
    border-radius: 1rem;
    overflow: hidden;
    box-shadow: 0 22px 60px rgba(2,6,23,0.45);
    background: linear-gradient(180deg, rgba(10,10,10,0.02), rgba(10,10,10,0.02));
  }

  .hero-card .hero-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .hero-card-content {
    position: absolute;
    left: 6%;
    top: 18%;
    z-index: 30;
    max-width: 640px;
  }
}

@layer utilities {
  /* Global animation variables */
  :root {
    --anim-duration: 600ms;
    --anim-easing: cubic-bezier(.22,.9,.36,1);
  }

  /* Scroll-triggered animation helpers
     Usage: add `data-animate="fade-up"` or `data-animate="zoom-in"` to elements.
     Optionally add `data-animate-delay="150ms"` to stagger. */
  [data-animate] {
    opacity: 0;
    transition-property: opacity, transform, filter;
    transition-duration: var(--anim-duration);
    transition-timing-function: var(--anim-easing);
    will-change: opacity, transform;
    transform-origin: center;
  }

  [data-animate].in-view {
    opacity: 1;
  }

  /* Variants */
  [data-animate="fade-up"] { transform: translateY(18px); }
  [data-animate="fade-up"].in-view { transform: translateY(0); }

  [data-animate="fade-left"] { transform: translateX(-18px); }
  [data-animate="fade-left"].in-view { transform: translateX(0); }

  [data-animate="fade-right"] { transform: translateX(18px); }
  [data-animate="fade-right"].in-view { transform: translateX(0); }

  [data-animate="zoom-in"] { transform: scale(.96); filter: contrast(.98); }
  [data-animate="zoom-in"].in-view { transform: scale(1); filter: none; }

  /* Image-specific smoothing */
  img[data-animate] { will-change: transform, opacity; }

  /* Utility to force reduced-motion preference respect */
  @media (prefers-reduced-motion: reduce) {
    [data-animate] { transition: none !important; transform: none !important; opacity: 1 !important; }
  }

  /* Text gradient for headings */
  .text-gradient-industrial {
    background: linear-gradient(135deg, hsl(214 68% 30%) 0%, hsl(214 68% 14%) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Smooth scroll */
  html {
    scroll-behavior: smooth;
  }

  /* Animation utilities */
  .animate-fade-up {
    animation: fadeUp 0.6s ease-out forwards;
  }

  @keyframes fadeUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-slide-in-left {
    animation: slideInLeft 0.6s ease-out forwards;
  }

  @keyframes slideInLeft {
    from {
      opacity: 0;
      transform: translateX(-30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  /* PPE carousel scrolling -------------------------------------------------- */
  /* container hides overflow, track flexes horizontally and animates leftwards */
  .ppe-carousel {
    overflow: hidden;
    position: relative;
    /* ensure the element doesn't contribute to layout height unnecessarily */
  }

  .ppe-track {
    display: flex;
    animation: ppeScroll var(--ppe-scroll-duration, 25s) linear infinite;
    /* duration can be set via CSS variable (fallback 25s) */
    will-change: transform;
  }

  @keyframes ppeScroll {
    from { transform: translateX(0); }
    to   { transform: translateX(-50%); }
  }

}
